{"ast":null,"code":"var _jsxFileName = \"D:\\\\Fullstack\\\\online-store\\\\client\\\\src\\\\components\\\\Step3.tsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useForm, useFieldArray, Controller } from 'react-hook-form';\nimport IconButton from '@material-ui/core/IconButton';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport TextField from '@material-ui/core/TextField';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport Grid from '@material-ui/core/Grid';\nimport Button from '@material-ui/core/Button'; //схема валидации---------------------\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schemaInfo = yup.object().shape({\n  title: yup.string().required('Поле обязательное для заполнения'),\n  description: yup.string().required('Поле обязательное для заполнения')\n});\nconst schema = yup.object().shape({\n  test: yup.array().of(schemaInfo).optional()\n}); //-----------------------------------------\n\nconst info = [{\n  title: 'gfgfgfgf',\n  description: 'gfgfg'\n}, {\n  title: 'kghkhkhjkj',\n  description: 'dgfbjfgghk'\n}];\n\nconst Step3 = () => {\n  _s();\n\n  const {\n    control,\n    handleSubmit,\n    formState: {\n      errors\n    }\n  } = useForm({\n    defaultValues: {\n      info: info\n    },\n    resolver: yupResolver(schema),\n    mode: 'onBlur'\n  });\n  const {\n    fields,\n    append,\n    remove\n  } = useFieldArray({\n    control,\n    name: 'info'\n  });\n\n  const onSubmit = data => console.log('data', data);\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    children: [fields.map((item, index) => {\n      return /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 3,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 3,\n          children: /*#__PURE__*/_jsxDEV(Controller, {\n            name: `info.${index}.title`,\n            control: control,\n            defaultValue: item.title,\n            render: ({\n              field\n            }) => {\n              var _errors$info, _errors$info$index, _errors$info$index$ti;\n\n              return /*#__PURE__*/_jsxDEV(TextField, {\n                fullWidth: true,\n                label: \" \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435 \",\n                ...field,\n                error: !!errors.info,\n                helperText: (errors === null || errors === void 0 ? void 0 : (_errors$info = errors.info) === null || _errors$info === void 0 ? void 0 : (_errors$info$index = _errors$info[index]) === null || _errors$info$index === void 0 ? void 0 : _errors$info$index.title) ? (_errors$info$index$ti = errors.info[index].title) === null || _errors$info$index$ti === void 0 ? void 0 : _errors$info$index$ti.message : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 55,\n                columnNumber: 19\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 7,\n          children: /*#__PURE__*/_jsxDEV(Controller, {\n            name: `info.${index}.description`,\n            control: control,\n            defaultValue: item.description,\n            render: ({\n              field\n            }) => {\n              var _errors$info2, _errors$info2$index, _errors$info$index$de;\n\n              return /*#__PURE__*/_jsxDEV(TextField, { ...field,\n                multiline: true,\n                fullWidth: true,\n                label: \" \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \",\n                error: !!errors.info,\n                helperText: (errors === null || errors === void 0 ? void 0 : (_errors$info2 = errors.info) === null || _errors$info2 === void 0 ? void 0 : (_errors$info2$index = _errors$info2[index]) === null || _errors$info2$index === void 0 ? void 0 : _errors$info2$index.description) ? (_errors$info$index$de = errors.info[index].description) === null || _errors$info$index$de === void 0 ? void 0 : _errors$info$index$de.message : null\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 19\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 2,\n          children: /*#__PURE__*/_jsxDEV(IconButton, {\n            onClick: () => remove(index),\n            children: /*#__PURE__*/_jsxDEV(HighlightOffIcon, {\n              style: {\n                fontSize: 30\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, item.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(Button, {\n      color: \"primary\",\n      style: {\n        marginBottom: 15,\n        fontSize: 12\n      },\n      onClick: () => {\n        append({\n          title: '',\n          description: ''\n        });\n      },\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u043E\\u0435 \\u043F\\u043E\\u043B\\u0435\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      type: \"submit\",\n      children: \"\\u041E\\u0442\\u043F\\u0440\\u0430\\u0432\\u0438\\u0442\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 45,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Step3, \"Yr7h8dMF9h1QbhbDxQVlyozbAyc=\", false, function () {\n  return [useForm, useFieldArray];\n});\n\n_c = Step3;\nexport default Step3;\n\nvar _c;\n\n$RefreshReg$(_c, \"Step3\");","map":{"version":3,"sources":["D:/Fullstack/online-store/client/src/components/Step3.tsx"],"names":["React","useForm","useFieldArray","Controller","IconButton","HighlightOffIcon","TextField","yupResolver","yup","Grid","Button","schemaInfo","object","shape","title","string","required","description","schema","test","array","of","optional","info","Step3","control","handleSubmit","formState","errors","defaultValues","resolver","mode","fields","append","remove","name","onSubmit","data","console","log","map","item","index","field","message","fontSize","id","marginBottom"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useForm, useFieldArray, Controller } from 'react-hook-form';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as yup from 'yup';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\n\r\n//схема валидации---------------------\r\nconst schemaInfo = yup.object().shape({\r\n  title: yup.string().required('Поле обязательное для заполнения'),\r\n  description: yup.string().required('Поле обязательное для заполнения'),\r\n});\r\nconst schema = yup.object().shape({\r\n  test: yup.array().of(schemaInfo).optional(),\r\n});\r\n//-----------------------------------------\r\nconst info = [\r\n  { title: 'gfgfgfgf', description: 'gfgfg' },\r\n  { title: 'kghkhkhjkj', description: 'dgfbjfgghk' },\r\n];\r\n\r\nconst Step3 = () => {\r\n  const {\r\n    control,\r\n    handleSubmit,\r\n    formState: { errors },\r\n  } = useForm({\r\n    defaultValues: {\r\n      info: info,\r\n    },\r\n    resolver: yupResolver(schema),\r\n    mode: 'onBlur',\r\n  });\r\n  const { fields, append, remove } = useFieldArray({\r\n    control,\r\n    name: 'info',\r\n  });\r\n\r\n  const onSubmit = (data: any) => console.log('data', data);\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)}>\r\n      {fields.map((item, index) => {\r\n        return (\r\n          <Grid container spacing={3} key={item.id}>\r\n            <Grid item xs={12} sm={3}>\r\n              <Controller\r\n                name={`info.${index}.title` as const}\r\n                control={control}\r\n                defaultValue={item.title}\r\n                render={({ field }) => (\r\n                  <TextField\r\n                    fullWidth\r\n                    label=\" название \"\r\n                    {...field}\r\n                    error={!!errors.info}\r\n                    helperText={\r\n                      errors?.info?.[index]?.title\r\n                        ? errors.info[index].title?.message\r\n                        : null\r\n                    }\r\n                  />\r\n                )}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={7}>\r\n              <Controller\r\n                name={`info.${index}.description` as const}\r\n                control={control}\r\n                defaultValue={item.description}\r\n                render={({ field }) => (\r\n                  <TextField\r\n                    {...field}\r\n                    multiline\r\n                    fullWidth\r\n                    label=\" описание \"\r\n                    error={!!errors.info}\r\n                    helperText={\r\n                      errors?.info?.[index]?.description\r\n                        ? errors.info[index].description?.message\r\n                        : null\r\n                    }\r\n                  />\r\n                )}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={2}>\r\n              <IconButton onClick={() => remove(index)}>\r\n                <HighlightOffIcon style={{ fontSize: 30 }} />\r\n              </IconButton>\r\n            </Grid>\r\n          </Grid>\r\n        );\r\n      })}\r\n      <Button\r\n        color=\"primary\"\r\n        style={{ marginBottom: 15, fontSize: 12 }}\r\n        onClick={() => {\r\n          append({ title: '', description: '' });\r\n        }}\r\n      >\r\n        Добавить новое поле\r\n      </Button>\r\n\r\n      <Button type=\"submit\">Отправить</Button>\r\n    </form>\r\n  );\r\n};\r\nexport default Step3;\r\n"]},"metadata":{},"sourceType":"module"}