{"ast":null,"code":"const ADD_PRODUCT_CART = 'ADD_PRODUCT_CART';\nconst ERROR_BASKET = 'ERROR_BASKET'; // типизация--------------------------------\n// типизация стейта\n\n//-------------------------------------------\nconst initialState = {\n  basket: [],\n  totalPrice: 0,\n  totalCount: 0,\n  errorBasket: false\n};\nexport const basketReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_PRODUCT_CART:\n      return { ...state,\n        basket: action.basket,\n        totalCount: action.totalCount,\n        totalPrice: action.totalPrice\n      };\n\n    case ERROR_BASKET:\n      return { ...state,\n        errorBasket: action.payload\n      };\n\n    default:\n      return state;\n  }\n}; //добавление товара в корзину\n\nexport const setAddProductCart = (basket, totalCount, totalPrice) => ({\n  type: ADD_PRODUCT_CART,\n  basket,\n  totalCount,\n  totalPrice\n}); //ошибка при добавлении товара в корзину\n\nexport const setErrorBasket = value => ({\n  type: ERROR_BASKET,\n  payload: value\n});","map":{"version":3,"sources":["D:/Fullstack/online-store/client/src/store/reducer/basketReducer.ts"],"names":["ADD_PRODUCT_CART","ERROR_BASKET","initialState","basket","totalPrice","totalCount","errorBasket","basketReducer","state","action","type","payload","setAddProductCart","setErrorBasket","value"],"mappings":"AAAA,MAAMA,gBAAgB,GAAG,kBAAzB;AACA,MAAMC,YAAY,GAAG,cAArB,C,CAEA;AACA;;AAkCA;AAEA,MAAMC,YAA8B,GAAG;AACrCC,EAAAA,MAAM,EAAE,EAD6B;AAErCC,EAAAA,UAAU,EAAE,CAFyB;AAGrCC,EAAAA,UAAU,EAAE,CAHyB;AAIrCC,EAAAA,WAAW,EAAE;AAJwB,CAAvC;AAOA,OAAO,MAAMC,aAAa,GAAG,CAC3BC,KAAK,GAAGN,YADmB,EAE3BO,MAF2B,KAGN;AACrB,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKV,gBAAL;AACE,aAAO,EACL,GAAGQ,KADE;AAELL,QAAAA,MAAM,EAAEM,MAAM,CAACN,MAFV;AAGLE,QAAAA,UAAU,EAAEI,MAAM,CAACJ,UAHd;AAILD,QAAAA,UAAU,EAAEK,MAAM,CAACL;AAJd,OAAP;;AAMF,SAAKH,YAAL;AACE,aAAO,EACL,GAAGO,KADE;AAELF,QAAAA,WAAW,EAAEG,MAAM,CAACE;AAFf,OAAP;;AAKF;AACE,aAAOH,KAAP;AAfJ;AAiBD,CArBM,C,CAuBP;;AACA,OAAO,MAAMI,iBAAiB,GAAG,CAC/BT,MAD+B,EAE/BE,UAF+B,EAG/BD,UAH+B,MAIE;AACjCM,EAAAA,IAAI,EAAEV,gBAD2B;AAEjCG,EAAAA,MAFiC;AAGjCE,EAAAA,UAHiC;AAIjCD,EAAAA;AAJiC,CAJF,CAA1B,C,CAUP;;AACA,OAAO,MAAMS,cAAc,GAAIC,KAAD,KAA+C;AAC3EJ,EAAAA,IAAI,EAAET,YADqE;AAE3EU,EAAAA,OAAO,EAAEG;AAFkE,CAA/C,CAAvB","sourcesContent":["const ADD_PRODUCT_CART = 'ADD_PRODUCT_CART';\r\nconst ERROR_BASKET = 'ERROR_BASKET';\r\n\r\n// типизация--------------------------------\r\n// типизация стейта\r\nexport type BasketType = {\r\n  name: string;\r\n  price: string;\r\n  picture: string;\r\n  description: string;\r\n  id: string;\r\n  quantity: number;\r\n  _id: string;\r\n};\r\n\r\nexport type InitialStateType = {\r\n  basket: BasketType[];\r\n  totalPrice: number;\r\n  totalCount: number;\r\n  errorBasket: boolean;\r\n};\r\n\r\n// типизация экшена\r\nexport type SetAddProductCartActionType = {\r\n  type: typeof ADD_PRODUCT_CART;\r\n  basket: BasketType[];\r\n  totalCount: number;\r\n  totalPrice: number;\r\n};\r\nexport type SetErrorBasketActionType = {\r\n  type: typeof ERROR_BASKET;\r\n  payload: boolean;\r\n};\r\n\r\nexport type SetActionType =\r\n  | SetAddProductCartActionType\r\n  | SetErrorBasketActionType;\r\n\r\n//-------------------------------------------\r\n\r\nconst initialState: InitialStateType = {\r\n  basket: [],\r\n  totalPrice: 0,\r\n  totalCount: 0,\r\n  errorBasket: false,\r\n};\r\n\r\nexport const basketReducer = (\r\n  state = initialState,\r\n  action: SetActionType\r\n): InitialStateType => {\r\n  switch (action.type) {\r\n    case ADD_PRODUCT_CART:\r\n      return {\r\n        ...state,\r\n        basket: action.basket,\r\n        totalCount: action.totalCount,\r\n        totalPrice: action.totalPrice,\r\n      };\r\n    case ERROR_BASKET:\r\n      return {\r\n        ...state,\r\n        errorBasket: action.payload,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//добавление товара в корзину\r\nexport const setAddProductCart = (\r\n  basket: BasketType[],\r\n  totalCount: number,\r\n  totalPrice: number\r\n): SetAddProductCartActionType => ({\r\n  type: ADD_PRODUCT_CART,\r\n  basket,\r\n  totalCount,\r\n  totalPrice,\r\n});\r\n//ошибка при добавлении товара в корзину\r\nexport const setErrorBasket = (value: boolean): SetErrorBasketActionType => ({\r\n  type: ERROR_BASKET,\r\n  payload: value,\r\n});\r\n"]},"metadata":{},"sourceType":"module"}