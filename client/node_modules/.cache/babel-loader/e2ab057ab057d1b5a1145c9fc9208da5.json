{"ast":null,"code":"const SET_AUTH = 'SET_AUTH';\nconst SET_LOGOUT = 'SET_LOGOUT';\nconst SET_ERROR_MESSAGE = 'SET_ERROR_MESSAGE';\nconst SET_IS_AUTH = 'SET_IS_AUTH'; // типизация--------------------------------\n// типизация стейта\n\n//-------------------------------------------\nconst initialState = {\n  auth: {\n    email: null,\n    token: null,\n    role: null\n  },\n  //авторизация\n  errorMessage: null,\n  // ошибка авторизации\n  isAuth: false // булевое значение для авторизации\n\n};\nexport const authReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_AUTH:\n      return { ...state,\n        auth: action.payload,\n        errorMessage: null\n      };\n\n    case SET_IS_AUTH:\n      return { ...state,\n        isAuth: action.payload\n      };\n\n    case SET_ERROR_MESSAGE:\n      return { ...state,\n        errorMessage: action.payload\n      };\n\n    case SET_LOGOUT:\n      return { ...state,\n        auth: { ...state.auth,\n          email: null,\n          token: null\n        },\n        isAuth: false\n      };\n\n    default:\n      return state;\n  }\n}; //запись авторизация\n\nexport const setAuth = value => ({\n  type: SET_AUTH,\n  payload: value\n}); // маркер авторизации\n\nexport const setIsAuth = value => ({\n  type: SET_IS_AUTH,\n  payload: value\n}); // данные об ошибки\n\nexport const setErrorMessage = data => ({\n  type: SET_ERROR_MESSAGE,\n  payload: data\n}); // выход из аторизации\n\nexport const setLogout = () => ({\n  type: SET_LOGOUT\n});","map":{"version":3,"sources":["D:/Fullstack/online-store/client/src/store/reducer/authReducer.ts"],"names":["SET_AUTH","SET_LOGOUT","SET_ERROR_MESSAGE","SET_IS_AUTH","initialState","auth","email","token","role","errorMessage","isAuth","authReducer","state","action","type","payload","setAuth","value","setIsAuth","setErrorMessage","data","setLogout"],"mappings":"AAAA,MAAMA,QAAQ,GAAG,UAAjB;AACA,MAAMC,UAAU,GAAG,YAAnB;AACA,MAAMC,iBAAiB,GAAG,mBAA1B;AACA,MAAMC,WAAW,GAAG,aAApB,C,CAEA;AACA;;AAoCA;AAEA,MAAMC,YAA8B,GAAG;AACrCC,EAAAA,IAAI,EAAE;AAAEC,IAAAA,KAAK,EAAE,IAAT;AAAeC,IAAAA,KAAK,EAAE,IAAtB;AAA4BC,IAAAA,IAAI,EAAE;AAAlC,GAD+B;AACW;AAChDC,EAAAA,YAAY,EAAE,IAFuB;AAEjB;AACpBC,EAAAA,MAAM,EAAE,KAH6B,CAGtB;;AAHsB,CAAvC;AAMA,OAAO,MAAMC,WAAW,GAAG,CACzBC,KAAK,GAAGR,YADiB,EAEzBS,MAFyB,KAGJ;AACrB,UAAQA,MAAM,CAACC,IAAf;AACE,SAAKd,QAAL;AACE,aAAO,EACL,GAAGY,KADE;AAELP,QAAAA,IAAI,EAAEQ,MAAM,CAACE,OAFR;AAGLN,QAAAA,YAAY,EAAE;AAHT,OAAP;;AAKF,SAAKN,WAAL;AACE,aAAO,EACL,GAAGS,KADE;AAELF,QAAAA,MAAM,EAAEG,MAAM,CAACE;AAFV,OAAP;;AAIF,SAAKb,iBAAL;AACE,aAAO,EACL,GAAGU,KADE;AAELH,QAAAA,YAAY,EAAEI,MAAM,CAACE;AAFhB,OAAP;;AAIF,SAAKd,UAAL;AACE,aAAO,EACL,GAAGW,KADE;AAELP,QAAAA,IAAI,EAAE,EAAE,GAAGO,KAAK,CAACP,IAAX;AAAiBC,UAAAA,KAAK,EAAE,IAAxB;AAA8BC,UAAAA,KAAK,EAAE;AAArC,SAFD;AAGLG,QAAAA,MAAM,EAAE;AAHH,OAAP;;AAMF;AACE,aAAOE,KAAP;AAzBJ;AA2BD,CA/BM,C,CAiCP;;AACA,OAAO,MAAMI,OAAO,GAAIC,KAAD,KAAgD;AACrEH,EAAAA,IAAI,EAAEd,QAD+D;AAErEe,EAAAA,OAAO,EAAEE;AAF4D,CAAhD,CAAhB,C,CAIP;;AACA,OAAO,MAAMC,SAAS,GAAID,KAAD,KAA0C;AACjEH,EAAAA,IAAI,EAAEX,WAD2D;AAEjEY,EAAAA,OAAO,EAAEE;AAFwD,CAA1C,CAAlB,C,CAIP;;AACA,OAAO,MAAME,eAAe,GAAIC,IAAD,KAA8C;AAC3EN,EAAAA,IAAI,EAAEZ,iBADqE;AAE3Ea,EAAAA,OAAO,EAAEK;AAFkE,CAA9C,CAAxB,C,CAIP;;AACA,OAAO,MAAMC,SAAS,GAAG,OAA4B;AACnDP,EAAAA,IAAI,EAAEb;AAD6C,CAA5B,CAAlB","sourcesContent":["const SET_AUTH = 'SET_AUTH';\r\nconst SET_LOGOUT = 'SET_LOGOUT';\r\nconst SET_ERROR_MESSAGE = 'SET_ERROR_MESSAGE';\r\nconst SET_IS_AUTH = 'SET_IS_AUTH';\r\n\r\n// типизация--------------------------------\r\n// типизация стейта\r\nexport type AuthReducerType = {\r\n  email: string | null;\r\n  token: string | null;\r\n  role?: string | null;\r\n};\r\n\r\nexport type InitialStateType = {\r\n  auth: AuthReducerType;\r\n  isAuth: boolean;\r\n  errorMessage: string | null;\r\n};\r\n\r\n// типизация экшена\r\nexport type SetAuthActionType = {\r\n  type: typeof SET_AUTH;\r\n  payload: AuthReducerType;\r\n};\r\nexport type SetIsAuthActionType = {\r\n  type: typeof SET_IS_AUTH;\r\n  payload: boolean;\r\n};\r\nexport type SetErrorMessageActionType = {\r\n  type: typeof SET_ERROR_MESSAGE;\r\n  payload: string;\r\n};\r\nexport type SetLogoutActionType = {\r\n  type: typeof SET_LOGOUT;\r\n};\r\n\r\nexport type SetActionType =\r\n  | SetAuthActionType\r\n  | SetErrorMessageActionType\r\n  | SetLogoutActionType\r\n  | SetIsAuthActionType;\r\n\r\n//-------------------------------------------\r\n\r\nconst initialState: InitialStateType = {\r\n  auth: { email: null, token: null, role: null }, //авторизация\r\n  errorMessage: null, // ошибка авторизации\r\n  isAuth: false, // булевое значение для авторизации\r\n};\r\n\r\nexport const authReducer = (\r\n  state = initialState,\r\n  action: SetActionType\r\n): InitialStateType => {\r\n  switch (action.type) {\r\n    case SET_AUTH:\r\n      return {\r\n        ...state,\r\n        auth: action.payload,\r\n        errorMessage: null,\r\n      };\r\n    case SET_IS_AUTH:\r\n      return {\r\n        ...state,\r\n        isAuth: action.payload,\r\n      };\r\n    case SET_ERROR_MESSAGE:\r\n      return {\r\n        ...state,\r\n        errorMessage: action.payload,\r\n      };\r\n    case SET_LOGOUT:\r\n      return {\r\n        ...state,\r\n        auth: { ...state.auth, email: null, token: null },\r\n        isAuth: false,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n//запись авторизация\r\nexport const setAuth = (value: AuthReducerType): SetAuthActionType => ({\r\n  type: SET_AUTH,\r\n  payload: value,\r\n});\r\n// маркер авторизации\r\nexport const setIsAuth = (value: boolean): SetIsAuthActionType => ({\r\n  type: SET_IS_AUTH,\r\n  payload: value,\r\n});\r\n// данные об ошибки\r\nexport const setErrorMessage = (data: string): SetErrorMessageActionType => ({\r\n  type: SET_ERROR_MESSAGE,\r\n  payload: data,\r\n});\r\n// выход из аторизации\r\nexport const setLogout = (): SetLogoutActionType => ({\r\n  type: SET_LOGOUT,\r\n});\r\n"]},"metadata":{},"sourceType":"module"}